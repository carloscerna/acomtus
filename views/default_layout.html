<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>Sistema</title>
	<!-- ICONO DE LA PAGINA -->
	<link rel="shortcur icon" href="img/admin.ico">
	<!--=============================================
	=            Include CSS files           =
	==============================================-->
  <!-- TOASTER -->
    <link rel="stylesheet" href="js/toastr/toastr.css" >
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="js/plugins/fontawesome-pro-5.14.0-web/css/all.min.css">
  <!--link rel="stylesheet" href="js/plugins/fontawesome-free/css/all.min.css"> -->
	<!-- Bootstrap 4.0-->
  <link rel="stylesheet" href="js/plugins/bootstrap4/css/bootstrap.min.css">
	<!-- DataTables -->
  <link rel="stylesheet" href="js/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css">
	<!-- DataTables responsive-->
	<link rel="stylesheet" href="js/plugins/responsive/css/responsive.bootstrap.min.css">
  <!-- Ionicons 
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">  -->
  <!-- Theme style -->
  <!-- <link rel="stylesheet" href="css/adminlte.min.css">-->
  <link rel="stylesheet" href="docs/assets/css/adminlte.min.css">
  <link rel="stylesheet" href="docs/assets/css/docs.css">
  <link rel="stylesheet" href="docs/assets/css/highlighter.css">

  <!-- Google Font: Source Sans Pro -->
  <!--<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">-->
	<!-- Theme style PACE-->
  <link href="js/pace/corner-indicador.css" rel="stylesheet" />
  <!-- SWEETALERT 2 - THEME DARK -->
	<link rel="stylesheet" href="js/plugins/sweetalert2/sweetalert2.min.css">
  <!-- SWEETALERT 2 - THEME DARK Y THEMES BOOTSTRAP 4 -->
  <link rel="stylesheet" href="js/plugins/select2/css/select2.min.css">
  <link rel="stylesheet" href="js/plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css">
  
  <!-- ICHECK -->
  <link rel="stylesheet" href="js/plugins/icheck-bootstrap/icheck-bootstrap.min.css">

  <!-- BOTON ARRIBA STYLE -->
	<style>
		/*Flecha para hacer la pagina hacia arriba*/
		.ir-arriba{
			display:none;
			background-repeat:no-repeat;
			font-size:20px;
			color:black;
			cursor:pointer;
			position:fixed;
			bottom:10px;
			right:10px;
			z-index:2;
		}
	</style>
	<!--=============================================
	=            Include JavaScript files           =
	==============================================-->
	<!-- jQuery V3.4.1 -->
		<script src="./js/jquery-3.4.1.min.js"></script>
  <!-- popper -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
		<!-- <script src="./js/popper/src/popper.js"></script> -->
	<!-- JS NUMERIC -->
		<script src="./js/jqueryNumeric/jquery.numeric.js" ></script>
  <!-- JS  METADATA, VALIDATE Y MESSAGES -->
  <!--<script type="text/javascript" src="js/jquery-validation-1.19.1/lib/jquery.metadata.js"></script> -->
    <script type="text/javascript" src="js/jquery-validation-1.19.1/dist/jquery.validate.min.js"></script>
    <script type="text/javascript" src="js/jquery-validation-1.19.1/dist/localization/messages_es.js"></script>
	<!-- Bootstrap 4 -->
		<script src="./js/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
	<!-- DataTables -->
		<script src="./js/plugins/datatables/jquery.dataTables.js"></script>
		<script src="./js/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
	<!-- DataTables Responsive -->
		<script src="./js/plugins/responsive/js/dataTables.responsive.min.js"></script>
		<script src="./js/plugins/responsive/js/responsive.bootstrap4.min.js"></script>
	<!-- AdminLTE App 
		<script src="./js/adminlte.min.js"></script>-->
    <script src="docs/assets/js/adminlte.min.js"></script>
    
  <!-- PACE JS -->
    <script src="./js/pace/pace.min.js"></script>
  <!-- SweetAlert2 -->
    <script src="./js/plugins/sweetalert2/sweetalert2.all.min.js"></script>
  <!-- Select2 -->
    <script src="./js/plugins/select2/js/select2.min.js"></script>
	<!-- JS TOASTR. -->
    <script type="text/JavaScript" src="./js/toastr/toastr.min.js"></script> <!-- MENSAJES -->
	<!-- PACE CONFIG. -->
	<script>
	  paceOptions = {
      catchupTime: 100,
      minTime: 250,
      ghostTime: 100,
      maxProgressPerFrame: 20,
      easeFactor: 1.25,
      startOnPageLoad: true,
      restartOnPushState: true,
      restartOnRequestAfter: 500,
      target: 'body',
      elements: {
        checkInterval: 100,
        selectors: ['body']
      },
      eventLag: {
        minSamples: 10,
        sampleCount: 3,
        lagThreshold: 3
      },
      ajax: {
        trackMethods: ['POST'],
        trackWebSockets: true,
        ignoreURLs: []
      }
    };	
	</script>
		<!-- CONFIGURACIÓN DE TOASTR -->
	<script type="text/javascript">
		toastr.options = {
            "closeButton": false,
            "debug": false,
            "newestOnTop": false,
            "progressBar": false,
            "positionClass": "toast-top-right",
            "preventDuplicates": false,
            "onclick": null,
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": "2000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
	};
	</script>
  <!-- BOTON ARRIBA SCRIPT -->
  	<script>
		$(document).ready(function(){ //Hacia arriba
			irArriba();
		});
		
		function irArriba(){
			$('.ir-arriba').click(function(){ $('body,html').animate({ scrollTop:'0px' },1000); });
			$(window).scroll(function(){
				if($(this).scrollTop() > 0){ $('.ir-arriba').slideDown(600); }else{ $('.ir-arriba').slideUp(600); }
			});
			$('.ir-abajo').click(function(){ $('body,html').animate({ scrollTop:'1000px' },1000); });
		}
	</script>
		<!-- JS BOOTSTRAP. -->
			<script type="text/JavaScript" src="js/bootstrap-select/js/bootstrap-select.min.js"></script> <!-- MENSAJES -->
			<script type="text/javascript" src="./js/principal_js_login.js"></script>
    
  <script type="text/javascript">
///////////////////////////////////////////////////////////
// Convertir a mayúsculas cuando abandone el input.
////////////////////////////////////////////////////////////
  function conMayusculas(field)
   {
        field.value = field.value.toUpperCase();
   }
		function MostrarMensaje(){
		     $.ajax({
			    type: "POST",
			    url: "includes/backup.php",
			    //data: dataString,
			    success: function() {
					toastr.success("Respaldo realizado"); 
			    }
			});
		}
		// Se establece el tiempo 1s = 1000 milisegundos.
		setInterval(MostrarMensaje, 3600000);
  </script>
  
  <script>
    $(function() {   
      // elementos de la lista
      var menues = $(".nav-item li"); 

      // manejador de click sobre todos los elementos
      menues.click(function() {
        // eliminamos active de todos los elementos
        menues.removeClass("active");
        // activamos el elemento clicado.
        $(this).addClass("active");
      });
    });
  </script>

  <script>
    $(document).ready(function(){ //Hacia arriba
    var toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
    var currentTheme = localStorage.getItem('theme');
    var mainHeader = document.querySelector('.main-header');

    if (currentTheme) {
      if (currentTheme === 'dark') {
        if (!document.body.classList.contains('dark-mode')) {
          document.body.classList.add("dark-mode");
        }
        if (mainHeader.classList.contains('navbar-light')) {
          mainHeader.classList.add('navbar-dark');
          mainHeader.classList.remove('navbar-light');
        }
        toggleSwitch.checked = true;
      }
    }

    function switchTheme(e) {
      if (e.target.checked) {
        if (!document.body.classList.contains('dark-mode')) {
          document.body.classList.add("dark-mode");
        }
        if (mainHeader.classList.contains('navbar-light')) {
          mainHeader.classList.add('navbar-dark');
          mainHeader.classList.remove('navbar-light');
        }
        localStorage.setItem('theme', 'dark');
      } else {
        if (document.body.classList.contains('dark-mode')) {
          document.body.classList.remove("dark-mode");
        }
        if (mainHeader.classList.contains('navbar-dark')) {
          mainHeader.classList.add('navbar-light');
          mainHeader.classList.remove('navbar-dark');
        }
        localStorage.setItem('theme', 'light');
      }
    }

    toggleSwitch.addEventListener('change', switchTheme, false);
  });
    </script>
</head>
    {% block extraCSS %}{% endblock %}
        
    {% block javascripts %}{% endblock %}

<body class="hold-transition sidebar-mini layout-fixed layout-navbar-fixed" style="height: auto;">
<div class="wrapper">
{% if logo_uno != '' %}
      <!-- Navbar  LA INFORMACIÓN QUE SE MUESTRA A LA DERECHA.-->
      <nav class="main-header navbar navbar-expand navbar-light p-0">
        <!-- Left navbar links -->
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu" href="#"><i class="fas fa-bars"></i></a>
          </li>
          <li class="nav-item d-none d-sm-inline-block">
            <a href="index.php" class="nav-link">Home</a>
          </li>
          <div class="theme-switch-wrapper nav-link">
            <label class="theme-switch" for="checkbox">
              <input type="checkbox" id="checkbox">
              <span class="slider round"></span>
            </label>
          </div>
        </ul>
        <!-- Right navbar links -->
        <ul class="navbar-nav ml-auto">
          <!-- Messages Dropdown Menu -->
            <a class="nav-link"  href="logout.php">
              <i class="fas fa-power-off"></i>
              <span class="label"> {{ nombre_personal }}</span>
            </a>
          </li>
        </ul>
      </nav>
      <!-- /.navbar -->
    
  <!-- Main container -->

  <!-- Main Sidebar Container - CONTENIDO QUE SE MUESTRA A LA IZQUIERDA-->
  <aside class="main-sidebar sidebar-dark-primary elevation-4">
    <!-- Brand Logo -->
    <a href="#" class="brand-link">
      <img src="./img/{{ logo_uno }}" alt="" class="brand-image img-circle elevation-3" style="opacity: .8">
      <span class="brand-text font-weight-light">{{ nombre_institucion }}</span>
    </a>

    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Sidebar user panel (optional) -->
      <div class="user-panel mt-3 pb-3 mb-3 d-flex">
        <div class="image">
          <img src="{{ foto_personal }}" class="img-circle elevation-2" alt="">
        </div>
        <div class="info">
          <a href="#" class="d-block">{{ nombre_perfil }}</a>
        </div>
      </div>

      <!-- Sidebar Menu -->
      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
          <!-- Add icons to the links using the .nav-icon class
               with font-awesome or any other icon font library -->
				<!-- plantilla que contiene el menú principal.  -->
                {% include 'layout-menu.html' %}
               <!-- *****************************************  -->
        </ul>
      </nav>
      <!-- /.sidebar-menu -->
    </div>
    <!-- /.sidebar -->
  </aside>

			<!-- Page header -->
			<!-- Content -->
			{% block contenidos %}

			{% endblock %}
  <!-- Main Footer - parte inferior de la pagina -->
  <footer class="footer-copyright p-t-1 m-auto">
    <!-- To the right -->
    <div class="float-right d-none d-sm-inline">
      {{ nombre_institucion }}
    </div>
    <!-- Default to the left -->
    <strong>Copyright &copy; 2020.</strong> Todos los Derechos Reservados.
  </footer>
{% else %}        
	{% block menu %}{% endblock %}		
	{% block loginUser %}{% endblock %}
{% endif %}
</div>
<!-- Boton hacia arriba -->
<a class="ir-arriba"  javascript:void(0) title="Volver arriba">
  <span class="fa-stack">
    <i class="fa fa-circle fa-stack-2x"></i>
    <i class="fa fa-arrow-up fa-stack-1x fa-inverse"></i>
  </span>
</a>
</body>
</html>